<!DOCTYPE html>
<html>
<head>
  <title>Buggy Driver</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>ğŸ§‘â€âœˆï¸ Buggy Driver</header>

<div class="panel">
  <button onclick="start()">Start Driving</button>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyBupPnckDbBcqNOIcCGVucOfEeUd_uo22A",
  authDomain: "tracker-mit.firebaseapp.com",
  databaseURL: "https://tracker-mit-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "tracker-mit",
  storageBucket: "tracker-mit.appspot.com",
  messagingSenderId: "1055743844534",
  appId: "1:1055743844534:web:b770c413e908951f470617"
});

const db = firebase.database();

function start() {
  navigator.geolocation.watchPosition(pos => {
    db.ref("buggies/buggy1").set({
      lat: pos.coords.latitude,
      lng: pos.coords.longitude,
      time: Date.now()
    });
  }, e => alert(e.message), { enableHighAccuracy: true });
}
</script>

</body>
</html>
